<div class="product-form-page">
  <div class="page-header product-form-header">
    <div>
      <h2 class="page-title">
        {{ editing ? 'Editar producto' : 'Nuevo producto' }}
      </h2>
      <p class="page-subtitle">
        {{
          editing
            ? 'Actualiza la informaci칩n del producto seleccionado.'
            : 'Completa la informaci칩n del producto y registra un nuevo 칤tem en el cat치logo.'
        }}
      </p>
    </div>

    <div class="d-flex align-items-center gap-2">
      <span class="badge page-chip d-none d-md-inline-flex">
        Cat치logo
      </span>
      <button
        class="btn btn-outline-secondary btn-sm btn-back"
        type="button"
        (click)="cancel()"
      >
        <i class="bi bi-arrow-left me-1"></i>
        Volver al listado
      </button>
    </div>
  </div>

  <!-- FORMULARIO -->
  <form (ngSubmit)="onSubmit()" novalidate>
    <div class="page-card product-form-card">
      <!-- Mensajes -->
      <div *ngIf="error" class="alert alert-danger py-2 mb-3">
        {{ error }}
      </div>
      <div *ngIf="success" class="alert alert-success py-2 mb-3">
        {{ success }}
      </div>

      <div class="row g-3">
        <!-- Columna izquierda -->
        <div class="col-md-6">
          <div class="form-section-title">
            <span class="section-icon">游닍</span>
            Datos b치sicos
          </div>

          <div class="mb-3">
            <label class="form-label form-label-sm">
              SKU (opcional)
            </label>
            <input
              type="text"
              class="form-control form-control-sm"
              [(ngModel)]="sku"
              name="sku"
              placeholder="Ej. PRD-000001 (deja vac칤o para autogenerar)"
            />
            <small class="text-muted">
              Si lo dejas vac칤o, el sistema generar치 un c칩digo autom치ticamente.
            </small>
          </div>

          <div class="mb-3">
            <label class="form-label form-label-sm">Nombre *</label>
            <input
              type="text"
              class="form-control form-control-sm"
              [(ngModel)]="name"
              name="name"
              required
              placeholder="Ej. Gaseosa 500ml"
            />
          </div>

          <div class="row g-2">
            <div class="col-sm-6">
              <label class="form-label form-label-sm">Unidad</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [(ngModel)]="unit"
                name="unit"
                placeholder="Ej. unidad, botella, lata"
              />
            </div>
            <div class="col-sm-6">
              <label class="form-label form-label-sm">Categor칤a</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [(ngModel)]="category"
                name="category"
                placeholder="Ej. bebidas, snacks"
              />
            </div>
          </div>

          <div class="row g-2">
            <div class="col-sm-6">
              <label class="form-label form-label-sm">Unidades por caja</label>
              <input
                type="number"
                min="1"
                class="form-control form-control-sm"
                [(ngModel)]="unitsPerBox"
                name="unitsPerBox"
                placeholder="Ej. 12"
              />
            </div>
            <div class="col-sm-6">
              <label class="form-label form-label-sm">Unidades por pack</label>
              <input
                type="number"
                min="1"
                class="form-control form-control-sm"
                [(ngModel)]="unitsPerPack"
                name="unitsPerPack"
                placeholder="Opcional"
              />
            </div>
          </div>

        </div>

        <!-- Columna derecha -->
        <div class="col-md-6">
          <div class="form-section-title">
            <span class="section-icon">游닇</span>
            Detalles adicionales
          </div>

          <div class="mb-3">
            <label class="form-label form-label-sm">Descripci칩n</label>
            <textarea
              rows="4"
              class="form-control form-control-sm"
              [(ngModel)]="description"
              name="description"
              placeholder="Descripci칩n breve del producto..."
            ></textarea>
          </div>
        </div>
      </div>

      <div class="mt-3 d-flex justify-content-end">
        <button
          type="submit"
          class="btn btn-primary btn-sm"
          [disabled]="loading"
        >
          <span
            *ngIf="loading"
            class="spinner-border spinner-border-sm me-1"
          ></span>
          {{ loading ? 'Guardando...' : 'Guardar producto' }}
        </button>
      </div>

    </div>
  </form>
</div>
