<!-- app.html -->

<!-- Rutas de auth (login, etc.) SIN men칰 -->
<div *ngIf="isAuthRoute">
  <router-outlet></router-outlet>
</div>

<!-- Resto de la app CON men칰 -->
<div *ngIf="!isAuthRoute" class="app-shell">
  <!-- SIDEBAR IZQUIERDO -->
  <aside class="sidebar">
    <!-- Header -->
    <div class="sidebar-header d-flex align-items-center gap-2 mb-3">
      <div class="sidebar-logo">
        游낃
      </div>
      <div>
        <div class="sidebar-title">TIENDA ABARROTES EL PEPIAN</div>
        <small class="text-muted-2">
          Panel de microservicios para aprovar Microservicios :"D
        </small>
      </div>
    </div>

    <!-- 游댳 Usuario actual (AHORA ARRIBA DEL BOT칍N "Panel principal") -->
    <div class="sidebar-user mb-3">
      <div class="d-flex align-items-center gap-2">
        <div class="sidebar-user-avatar">
          {{ displayUserInitial }}
        </div>
        <div class="sidebar-user-info">
          <div class="sidebar-user-name">
            Hola, {{ displayUserName }}
          </div>
          <small class="sidebar-user-role text-muted-2">
            Conectado
          </small>
        </div>
      </div>
      <!-- Logout abajo -->
      <div class="sidebar-footer">
        <button
          class="btn btn-outline-light btn-sm w-100 logout-btn"
          (click)="logout()"
        >
          <i class="bi bi-box-arrow-right me-1"></i>
          Cerrar sesi칩n
        </button>
      </div>
    </div>

    <!-- Navegaci칩n -->
    <nav class="sidebar-nav flex-grow-1">
      <a
        routerLink="/dashboard"
        routerLinkActive="active"
        class="sidebar-link"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <i class="bi bi-speedometer2 me-2"></i>
        Panel principal
      </a>

      <div class="sidebar-section-label mt-3 mb-1">
        M칩dulos
      </div>

      <a
        routerLink="/catalogo/productos"
        routerLinkActive="active"
        class="sidebar-link"
      >
        <i class="bi bi-box-seam me-2"></i>
        Cat치logo
      </a>

      <a
        routerLink="/inventario"
        routerLinkActive="active"
        class="sidebar-link"
      >
        <i class="bi bi-clipboard-data me-2"></i>
        Inventario
      </a>

      <a
        routerLink="/compras"
        routerLinkActive="active"
        class="sidebar-link"
      >
        <i class="bi bi-receipt-cutoff me-2"></i>
        Compras
      </a>

      <a
        routerLink="/ventas"
        routerLinkActive="active"
        class="sidebar-link"
      >
        <i class="bi bi-credit-card me-2"></i>
        Ventas
      </a>

      <a
        routerLink="/contabilidad"
        routerLinkActive="active"
        class="sidebar-link"
      >
        <i class="bi bi-credit-card me-2"></i>
        CONTABILIDAD
      </a>
    </nav>


  </aside>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="main-area">
    <div class="main-scroll">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
